<nav class="navbar navbar-expand-lg navbar-primary bg-primary text-white mb-5 ">
  <div class="container-fluid d-flex justify-content-between">
    <a class="btn btn-outline-light" routerLink="instructor-profile">
       {{ 'course-header.Back to Dashboard' | transloco }}
    </a>
    <span class="navbar-brand  text-white">{{courseObj.courseTitle}}</span>
    <!-- <button class="btn btn-light">Preview</button> -->
  </div>
</nav>
<div *ngIf="courseObj?.courseType === 'Recorded Educational Courses'" id="Recorded_Educational_Courses">
  <div class="container mb-5">
    <div class="row">
      <div class="col-md-3 mb-3">
        <ul class="list-group">
          <li *ngFor="let step of stepsRecorded_Educational_Courses; let i = index"
              class="list-group-item"
              [class.active]="i === currentStep">
            {{ 'course-header.Step' | transloco }} {{ i + 1 }}:   {{ activeLang === 'ar' ? step.titleAr : step.titleEn }}

          </li>
        </ul>
      </div>

      <div class="col-md-9 content-section rounded-2">
        <!-- Step 1: Curriculum -->
     <div *ngIf="currentStep === 0">
  <h3>{{ 'course-header.Curriculum' | transloco }}</h3>

  <div *ngFor="let section of sections; let i = index" class="card mb-3">
    <div class="card-body">
      <div class="d-flex flex-column align-items-start">
        <button class="btn btn-danger btn-sm mb-2" (click)="removeSection(i)">
          {{ 'course-header.Delete Section' | transloco }}
        </button>
        <input [(ngModel)]="section.name"
               [attr.placeholder]="'course-header.Section Name' | transloco"
               class="form-control mb-2 w-100" />

        <input [(ngModel)]="section.description"
               [attr.placeholder]="'course-header.Description' | transloco"
               class="form-control mb-2 w-100" />


      </div>

      <!-- ✅ Section Files -->
      <div *ngFor="let attachment of section.attachments; let sFileIndex = index">
  <div class="row">
    <div class="col-md-4">
      <input type="file" class="form-control"
             (change)="onSectionFileSelected($event, i, sFileIndex)"
             accept=".pdf,application/pdf" />
    </div>
    <div class="col-md-4">
      <input type="text" class="form-control"
             [(ngModel)]="attachment.name"
             [attr.placeholder]="'course-header.File Name' | transloco" />
    </div>
    <div class="col-md-3">
      <input type="text" class="form-control"
             [(ngModel)]="attachment.description"
             [attr.placeholder]="'course-header.File Description' | transloco" />
    </div>
    <div class="col-md-1 d-flex align-items-center">
      <button class="btn btn-danger btn-sm" (click)="removeSectionFile(i, sFileIndex)">×</button>
    </div>
  </div>
</div>

<button class="btn btn-sm btn-outline-primary mt-2" (click)="addSectionFile(i)">
  {{ 'course-header.+ Add Section File' | transloco }}
</button>

      <!-- 🔹 Lectures -->
      <div *ngFor="let lecture of section.lectures; let j = index">
        <div class="d-flex justify-content-between align-items-center mt-3">
          <strong>{{ 'course-header.Lecture' | transloco }} {{ j + 1 }}</strong>
          <button class="btn btn-danger btn-sm mb-2" (click)="removeLecture(i, j)">
            {{ 'course-header.Delete Lecture' | transloco }}
          </button>
        </div>

        <input [(ngModel)]="lecture.title"
               [attr.placeholder]="'course-header.Lecture Title' | transloco"
               class="form-control mb-2" />

        <div class="nav nav-tabs">
          <button class="nav-link"
                  [class.active]="lecture.activeTab === 'video'"
                  (click)="changeTab(i, j, 'video')">
            {{ 'course-header.Video' | transloco }}
          </button>
          <button class="nav-link"
                  [class.active]="lecture.activeTab === 'description'"
                  (click)="changeTab(i, j, 'description')">
            {{ 'course-header.Description' | transloco }}
          </button>
        </div>

        <div *ngIf="lecture.activeTab === 'video'" class="mt-2 mb-2">
          <div class="custom-file-upload">
            <span *ngIf="!lecture.videoName" class="file-placeholder">
              {{ 'course-header.No selected file' | transloco }}
            </span>
            <span *ngIf="lecture.videoName" class="file-name">
              {{ lecture.videoName }}
            </span>
            <input type="file" #fileInput
                   (change)="onFileSelected($event, i, j)"
                   accept="video/*" hidden />
            <button class="btn btn-link select-video-btn" (click)="fileInput.click()">
              {{ 'course-header.Select Video' | transloco }}
            </button>
          </div>
        </div>

        <div *ngIf="lecture.activeTab === 'description'" class="mt-2 mb-2">
          <textarea [(ngModel)]="lecture.description"
                    [attr.placeholder]="'course-header.Enter video description' | transloco"
                    class="form-control"></textarea>
        </div>

        <!-- ✅ Lecture Files -->
        <div *ngFor="let file of lecture.files; let k = index" class="mt-3">
  <div class="row">
    <div class="col-md-4">
      <input type="file" class="form-control"
             (change)="onLectureFileSelected($event, i, j, k)"
             accept=".pdf,application/pdf" />
    </div>
    <div class="col-md-4">
      <input type="text" class="form-control"
             [(ngModel)]="file.name"
             [attr.placeholder]="'course-header.File Name' | transloco" />
    </div>
    <div class="col-md-3">
      <input type="text" class="form-control"
             [(ngModel)]="file.description"
             [attr.placeholder]="'course-header.File Description' | transloco" />
    </div>
    <div class="col-md-1 d-flex align-items-center">
      <button class="btn btn-danger btn-sm" (click)="removeLectureFile(i, j, k)">×</button>
    </div>
  </div>
</div>

<button class="btn btn-sm btn-outline-primary mt-2" (click)="addLectureFile(i, j)">
  {{ 'course-header.+ Add Lecture File' | transloco }}
</button>


        <hr />
      </div>

      <button class="btn btn-sm btn-secondary mt-2" (click)="addLecture(i)">
        {{ 'course-header.+ Add Lecture' | transloco }}
      </button>
    </div>
  </div>

  <button class="btn btn-primary w-100" (click)="addSection()">
    {{ 'course-header.+ Add Section' | transloco }}
  </button>
</div>





  <!-- Step 2: Course Landing Page -->
  <div *ngIf="currentStep === 1" class="container mt-4">
    <div class="card p-4">
      <h3 class="mb-3">{{ 'course-header.Landing Page' | transloco }}</h3>

      <form #courseForm="ngForm">


        <div class="mb-3">
          <label class="form-label">{{ 'course-header.Description' | transloco }}</label>
          <input type="text" class="form-control" [(ngModel)]="course.description" name="description" required>
        </div>

        <div class="row">
          <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Language' | transloco }}</label>
            <select class="form-select" [(ngModel)]="course.language" name="language" required>
              <option>{{ 'course-header.Arabic' | transloco }}</option>
              <option>{{ 'course-header.English' | transloco }}</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Set Level' | transloco }}</label>
            <select class="form-select" [(ngModel)]="course.level" name="level" required>
              <option> {{ 'course-header.Beginner' | transloco }}</option>
              <option>{{ 'course-header.Intermediate' | transloco }}</option>
              <option>{{ 'course-header.Advanced' | transloco }}</option>
            </select>
          </div>
        </div>

        <div class="row mt-3">

          <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Course Duration' | transloco }}</label>
           <select class="form-select" [(ngModel)]="course.duration" name="duration" required>
  <option value="Week - 2 weeks">{{ 'course-header.Week_2' | transloco }}</option>
  <option value="2 Week - 3 weeks">{{ 'course-header.Week_3' | transloco }}</option>
  <option value="Month - 2 Monthes">{{ 'course-header.Month_2' | transloco }}</option>
  <option value="2 Monthes - 3 Monthes">{{ 'course-header.Month_3' | transloco }}</option>
  <option value="3 Monthes - 4 Monthes">{{ 'course-header.Month_4' | transloco }}</option>
  <option value="4 Monthes - 5 Monthes">{{ 'course-header.Month_5' | transloco }}</option>
</select>

          </div>


          <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Course Photo' | transloco }}</label>
            <input type="file" class="form-control" (change)="onFileSelectedd($event, 'photo')" accept=".jpg,.jpeg,.png,.webp,.bmp,.gif,.svg,.jfif,image/*">
          </div>
        </div>

        <div class="row mt-3">
          <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Promo Video' | transloco }}</label>
            <input type="file" class="form-control" (change)="onFileSelectedd($event, 'video')" accept="video/*">
          </div>

        </div>
<div class="row mt-3">

  <!-- رفع الكتاب PDF -->
  <div class="col-md-6">
    <label class="form-label">{{ 'course-header.Course Book (PDF)' | transloco }}</label>
    <input
      type="file"
      class="form-control"
      (change)="onFileSelectedd($event, 'book')"
      accept=".pdf,application/pdf">
  </div>

  <!-- اسم الكتاب -->
  <div class="col-md-6">
  <label class="form-label">{{ 'course-header.Book Title' | transloco }}</label>
    <input
      type="text"
    class="form-control"
    [(ngModel)]="course.bookTitle"
    name="bookTitle">
  </div>

  <!-- وصف الكتاب -->
  <div class="col-md-6">
  <label class="form-label">{{ 'course-header.Book Description' | transloco }}</label>
    <input
     type="text"
    class="form-control"
    [(ngModel)]="course.bookDescription"
    name="bookDescription">
  </div>

</div>

<!--
        <div class="mb-3 mt-3">
          <label class="form-label"> {{ 'course-header.Lecturer Name' | transloco }}</label>
          <input type="text" class="form-control" [(ngModel)]="course.lecturer" name="lecturer" required>
        </div>

        <div class="mb-3">
          <label class="form-label"> {{ 'course-header.Lecturer Description' | transloco }}</label>
          <input type="text" class="form-control" [(ngModel)]="course.lecturerDescription" name="lecturerDescription" required>
        </div> -->

      </form>
    </div>
  </div>



  <!-- Step 3: Pricing & Promotions Page -->
  <div *ngIf="currentStep === 2" class="container mt-4">
    <div class="card pb-4">

      <div class="container mt-4">
        <!-- Pricing Section -->
         <div class="card-body">
  <h5 class="card-title">{{ 'course-header.Pricing' | transloco }}</h5>
  <p class="fw-bold">{{ 'course-header.Set a price for your course' | transloco }}</p>

  <div class="form-check form-switch mb-3">
    <input class="form-check-input" type="checkbox" id="isPaidToggle" [(ngModel)]="courseData.isPaid">
    <label class="form-check-label" for="isPaidToggle">
      {{ courseData.isPaid ? ('course-header.Paid' | transloco) : ('course-header.Free' | transloco) }}
    </label>
  </div>

  <div *ngIf="courseData.isPaid">
    <div class="row g-2">
      <div class="col-md-6">
        <label class="form-label">{{ 'course-header.Price' | transloco }}</label>
        <input class="form-control" type="number" [(ngModel)]="courseData.price" placeholder="">
      </div>

      <div class="col-md-6">
        <label class="form-label">{{ 'course-header.Currency' | transloco }}</label>
        <select class="form-select" [(ngModel)]="courseData.currency">
          <option value="SAR">SAR</option>
          <option value="USD">USD</option>
          <option value="EUR">EUR</option>
        </select>
      </div>
    </div>
  </div>

  <div *ngIf="!courseData.isPaid" class="alert alert-info mt-3">
    {{ 'course-header.This course is free' | transloco }}
  </div>
</div>


        <!-- Promotions Section -->
        <!-- <div class="card mb-3">
            <div class="card-body">
                <h5 class="card-title">{{ 'course-header.Promotions' | transloco }}</h5>
                <p class="fw-bold">{{ 'course-header.Offer Conditions' | transloco }}</p>
                <p class="text-muted">{{ 'course-header.Each time a student uses this link, the instructor will receive 80%...' | transloco }}</p>
                <div class="input-group">
                    <input type="text" class="form-control" [(ngModel)]="courseData.promoLink" [attr.placeholder]="'course-header.Copy link' | transloco"   >
                    <button class="btn btn-primary" (click)="pastePromoLink()">Paste</button>
                </div>
            </div>
        </div> -->

        <!-- Purchase Vouchers Section -->
        <!-- <div class="card mb-3">
          <div class="card-body">
              <h5 class="card-title"> {{ 'course-header.Purchase Vouchers' | transloco }}</h5>
              <div class="row">
                  <div class="col-md-6" *ngFor="let option of courseData.voucherOptions; let i = index">
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="voucher-option" [(ngModel)]="courseData.selectedVoucher" [value]="option.value">
                          <label class="form-check-label"> {{ activeLang === 'ar' ? option.labelAr : option.labelEn }}</label>
                      </div>
                      <ul>
                        <li *ngFor="let feature of activeLang === 'ar' ? option.featuresAr : option.featuresEn">
                          {{ feature }}
                        </li>

                      </ul>
                  </div>
              </div>
              <button class="btn btn-primary mt-3" (click)="saveData()"> {{ 'course-header.Purchase Vouchers' | transloco }}</button>
          </div>
        </div> -->

      </div>
    </div>
  </div>

  <!-- Step 4: Create Coupons Page -->

  <div *ngIf="currentStep === 3" class="container mt-4">
  <div class="container mt-4">
    <div *ngFor="let coupon of coupons; let i = index" class="card shadow-sm p-4 mb-3">
      <h5 class="fw-bold">{{ 'course-header.Coupon' | transloco }} {{ i + 1 }}</h5>

      <!-- Coupon Code -->
      <div class="mb-3">
        <label class="form-label">{{ 'course-header.Coupon code' | transloco }}</label>
        <input type="text" class="form-control" [(ngModel)]="coupon.code" name="code-{{i}}">
      </div>

      <!-- Discount Percentage -->
      <div class="mb-3">
        <label class="form-label">{{ 'course-header.Discount percentage' | transloco }}</label>
        <input type="number" class="form-control" [(ngModel)]="coupon.discount" name="discount-{{i}}" min="0" max="100" placeholder="%">
      </div>

      <!-- Active toggle (boolean) -->
      <div class="form-check form-switch mb-3">
        <input class="form-check-input" type="checkbox" id="activeToggle{{i}}" [(ngModel)]="coupon.active" name="active-{{i}}">
        <label class="form-check-label" for="activeToggle{{i}}">
          {{ coupon.active ? ('course-header.Active' | transloco) : ('course-header.Inactive' | transloco) }}
        </label>
      </div>

      <!-- Remove Coupon Button -->
      <button *ngIf="coupons.length > 1" class="btn btn-danger" (click)="removeCoupon(i)">
        {{ 'course-header.Remove' | transloco }}
      </button>
    </div>

    <!-- Add Coupon Button -->
    <button class="btn btn-primary" (click)="addCoupon()">
      {{ 'course-header.Add Coupon' | transloco }}
    </button>
  </div>
</div>


        <!-- Navigation Buttons -->
        <button class="btn btn-secondary mt-3 m-2" *ngIf="currentStep > 0" (click)="prevStep()">Previous</button>
        <button class="btn btn-primary mt-3 m-2"
        *ngIf="currentStep < stepsRecorded_Educational_Courses.length - 1"
        (click)="nextStep1()"
       >
  {{ 'course-header.Next' | transloco }}
  </button>
  <p *ngIf="warningMessageKey" class="text-danger">
    {{ warningMessageKey | transloco }}
  </p>



 <!-- زر الإرسال -->
<button
  class="btn btn-success mt-3 m-2"
  *ngIf="currentStep === stepsRecorded_Educational_Courses.length - 1"
  (click)="nextStep1()"
  [disabled]="isLoading"
>
  {{ 'course-header.Submit for Review' | transloco }}
</button>

<!-- السبنر -->
<div class="spinner-border text-primary mt-2" role="status" *ngIf="isLoading">
  <span class="visually-hidden">Loading...</span>
</div>

      </div>




    </div>
  </div>
</div>


<div *ngIf="courseObj?.courseType === 'Live Streamed Educational Courses'"  id="Live_Streamed_Educational_Courses">
  <div class="container mb-5">
    <div class="row">
      <div class="col-md-3 mb-3">
        <ul class="list-group">
          <li *ngFor="let step of stepsLive_Streamed_Educational_Courses; let i = index"
              class="list-group-item"
              [class.active]="i === currentStep">
                  {{ 'course-header.Step' | transloco }}
            {{ i + 1 }}:   {{ activeLang === 'ar' ? step.titleAr : step.titleEn }}

          </li>
        </ul>
      </div>

      <div class="col-md-9 content-section rounded-2">

        <!-- Step 1: Schedules -->
    <div *ngIf="currentStep === 0">
  <h3>{{ 'course-header.Instructor Schedules' | transloco }}</h3>

  <!-- زر لإضافة قسم جديد -->
  <button class="btn btn-primary my-2" (click)="addSectionLive()">
    {{ 'course-header.Add Section' | transloco }}
  </button>

  <!-- تكرار الأقسام -->
  <div *ngFor="let section of selectedScheduleSections; let sectionIndex = index" class="mb-4 border rounded p-3">

    <!-- عنوان القسم + زر حذف القسم (75% / 25%) -->
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div style="width: 75%;">
        <h5>{{ 'course-header.Section' | transloco }} {{ sectionIndex + 1 }}</h5>
      </div>
      <div style="width: 25%; text-align: end;">
        <button class="btn btn-outline-danger" (click)="deleteSection(sectionIndex)">
          {{ 'course-header.Delete Section' | transloco }}
        </button>
      </div>
    </div>

    <!-- إدخال اسم ووصف القسم -->
    <div class="mb-3">
      <label class="fw-bold">{{ 'course-header.Section Title' | transloco }}</label>
      <input type="text" [(ngModel)]="section.title" class="form-control">
    </div>
    <div class="mb-3">
      <label class="fw-bold">{{ 'course-header.Section Description' | transloco }}</label>
      <textarea [(ngModel)]="section.description" class="form-control"></textarea>
    </div>

    <!-- زر لإضافة صف -->
    <button class="btn btn-success mb-2" (click)="addRow(sectionIndex)">
      {{ 'course-header.Add Row' | transloco }}
    </button>

    <!-- الصفوف داخل القسم -->
    <div *ngFor="let schedule of section.schedules; let rowIndex = index" class="card mb-3 p-3 border">
      <div class="card-body">
        <!-- عنوان المحاضرة -->
        <h6 class="text-primary mb-3">
          {{ 'course-header.Lecture' | transloco }} {{ rowIndex + 1 }}
        </h6>

        <!-- الحقول -->
        <div class="mb-2">
          <label class="fw-bold">{{ 'course-header.Course Title' | transloco }}</label>
          <input type="text" [(ngModel)]="schedule.courseTitle" class="form-control">
        </div>
        <div class="mb-2">
          <label class="fw-bold">{{ 'course-header.Date' | transloco }}</label>
          <input type="date" [(ngModel)]="schedule.date" class="form-control">
        </div>
        <div class="mb-2">
          <label class="fw-bold">{{ 'course-header.Time' | transloco }}</label>
          <input type="time" [(ngModel)]="schedule.time" class="form-control">
        </div>
        <div class="mb-2">
          <label class="fw-bold">{{ 'course-header.Lecturer' | transloco }}</label>
          <input type="text" [(ngModel)]="schedule.lecturerName" class="form-control">
        </div>
        <div class="mb-2">
          <label class="fw-bold">{{ 'course-header.Registered' | transloco }}</label>
          <input type="text" [(ngModel)]="schedule.registered" class="form-control">
        </div>
        <div class="mb-2">
          <label class="fw-bold">{{ 'course-header.Status' | transloco }}</label>
          <input type="text" [(ngModel)]="schedule.status" class="form-control">
        </div>
        <div class="mb-2">
          <label class="fw-bold">{{ 'course-header.Join Link' | transloco }}</label>
          <input type="url" [(ngModel)]="schedule.joinLink" class="form-control">
        </div>
        <div class="mb-2">
          <label class="fw-bold">{{ 'course-header.Limit' | transloco }}</label>
          <input type="number" [(ngModel)]="schedule.limit" class="form-control">
        </div>

        <!-- زر لحذف صف -->
        <button class="btn btn-danger btn-sm" (click)="deleteRow(sectionIndex, rowIndex)">
          {{ 'course-header.Delete Row' | transloco }}
        </button>
      </div>
    </div>
  </div>
</div>






 <div *ngIf="currentStep === 1" class="container mt-4">
    <div class="card p-4">
      <h3 class="mb-3">{{ 'course-header.Landing Page' | transloco }}</h3>

      <form #courseForm="ngForm">


        <div class="mb-3">
          <label class="form-label">{{ 'course-header.Description' | transloco }}</label>
          <input type="text" class="form-control" [(ngModel)]="course.description" name="description" required>
        </div>

        <div class="row">
          <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Language' | transloco }}</label>
            <select class="form-select" [(ngModel)]="course.language" name="language" required>
              <option>{{ 'course-header.Arabic' | transloco }}</option>
              <option>{{ 'course-header.English' | transloco }}</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Set Level' | transloco }}</label>
            <select class="form-select" [(ngModel)]="course.level" name="level" required>
              <option> {{ 'course-header.Beginner' | transloco }}</option>
              <option>{{ 'course-header.Intermediate' | transloco }}</option>
              <option>{{ 'course-header.Advanced' | transloco }}</option>
            </select>
          </div>
        </div>

        <div class="row mt-3">

          <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Course Duration' | transloco }}</label>
            <select class="form-select" [(ngModel)]="course.duration" name="duration" required>
              <option value="Week">{{ 'course-header.Week' | transloco }}</option>
              <option value="Month">{{ 'course-header.Month' | transloco }}</option>
              <option value="2 Monthes">{{ 'course-header.2 Monthes' | transloco }}</option>
              <option value="3 Monthes">{{ 'course-header.3 Monthes' | transloco }}</option>
              <option value="4 Monthes">{{ 'course-header.4 Monthes' | transloco }}</option>
            </select>
          </div>


          <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Course Photo' | transloco }}</label>
            <input type="file" class="form-control" (change)="onFileSelectedd($event, 'photo')" accept=".jpg,.jpeg,.png,.webp,.bmp,.gif,.svg,.jfif,image/*">
          </div>
        </div>

        <div class="row mt-3">
          <!-- <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Promo Video' | transloco }}</label>
            <input type="file" class="form-control" (change)="onFileSelectedd($event, 'video')" accept="video/*">
          </div> -->
          <!-- <div class="col-md-6">
            <label class="form-label">{{ 'course-header.Course Photo' | transloco }}</label>
            <input type="file" class="form-control" (change)="onFileSelectedd($event, 'photo')" accept="image/*">
          </div> -->
        </div>

<!--
        <div class="mb-3 mt-3">
          <label class="form-label"> {{ 'course-header.Lecturer Name' | transloco }}</label>
          <input type="text" class="form-control" [(ngModel)]="course.lecturer" name="lecturer" required>
        </div>

        <div class="mb-3">
          <label class="form-label"> {{ 'course-header.Lecturer Description' | transloco }}</label>
          <input type="text" class="form-control" [(ngModel)]="course.lecturerDescription" name="lecturerDescription" required>
        </div> -->

      </form>
    </div>
  </div>



  <!-- Step 3: Pricing & Promotions Page -->
  <div *ngIf="currentStep === 2" class="container mt-4">
    <div class="card pb-4">

      <div class="container mt-4">
        <!-- Pricing Section -->
          <div class="card-body">
                <h5 class="card-title"> {{ 'course-header.Pricing' | transloco }}</h5>
                <p class="fw-bold">{{ 'course-header.Set a price for your course' | transloco }}</p>
                <div class="row g-2">
                  <div class="col-md-6">
                    <label class="form-label">{{ 'course-header.Price' | transloco }}</label>
                    <input class="form-control" type="number" [(ngModel)]="courseData.price" placeholder="">
                </div>
                    <div class="col-md-6">
                        <label class="form-label">{{ 'course-header.Currency' | transloco }}</label>
                        <select class="form-select" [(ngModel)]="courseData.currency">
                           <option value="SAR">SAR</option>
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label"> {{ 'course-header.Price Tier' | transloco }}</label>
                        <select class="form-select" [(ngModel)]="courseData.priceTier">
                            <option value="Free"> {{ 'course-header.Free' | transloco }}</option>
                            <option value="Premium">{{ 'course-header.Premium' | transloco }}</option>
                        </select>
                    </div>
                </div>
                <!-- <button class="btn btn-primary mt-3" (click)="saveData()">Save</button> -->
            </div>


        <!-- Promotions Section -->
        <!-- <div class="card mb-3">
            <div class="card-body">
                <h5 class="card-title">{{ 'course-header.Promotions' | transloco }}</h5>
                <p class="fw-bold">{{ 'course-header.Offer Conditions' | transloco }}</p>
                <p class="text-muted">{{ 'course-header.Each time a student uses this link, the instructor will receive 80%...' | transloco }}</p>
                <div class="input-group">
                    <input type="text" class="form-control" [(ngModel)]="courseData.promoLink" [attr.placeholder]="'course-header.Copy link' | transloco"   >
                    <button class="btn btn-primary" (click)="pastePromoLink()">Paste</button>
                </div>
            </div>
        </div> -->

        <!-- Purchase Vouchers Section -->
        <!-- <div class="card mb-3">
          <div class="card-body">
              <h5 class="card-title"> {{ 'course-header.Purchase Vouchers' | transloco }}</h5>
              <div class="row">
                  <div class="col-md-6" *ngFor="let option of courseData.voucherOptions; let i = index">
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="voucher-option" [(ngModel)]="courseData.selectedVoucher" [value]="option.value">
                          <label class="form-check-label"> {{ activeLang === 'ar' ? option.labelAr : option.labelEn }}</label>
                      </div>
                      <ul>
                        <li *ngFor="let feature of activeLang === 'ar' ? option.featuresAr : option.featuresEn">
                          {{ feature }}
                        </li>

                      </ul>
                  </div>
              </div>
              <button class="btn btn-primary mt-3" (click)="saveData()"> {{ 'course-header.Purchase Vouchers' | transloco }}</button>
          </div>
        </div> -->

      </div>
    </div>
  </div>

  <!-- Step 4: Create Coupons Page -->

  <div *ngIf="currentStep === 3" class="container mt-4">
  <div class="container mt-4">
    <div *ngFor="let coupon of coupons; let i = index" class="card shadow-sm p-4 mb-3">
      <h5 class="fw-bold">{{ 'course-header.Coupon' | transloco }} {{ i + 1 }}</h5>

      <!-- Coupon Code -->
      <div class="mb-3">
        <label class="form-label">{{ 'course-header.Coupon code' | transloco }}</label>
        <input type="text" class="form-control" [(ngModel)]="coupon.code" name="code-{{i}}">
      </div>

      <!-- Discount Percentage -->
      <div class="mb-3">
        <label class="form-label">{{ 'course-header.Discount percentage' | transloco }}</label>
        <input type="number" class="form-control" [(ngModel)]="coupon.discount" name="discount-{{i}}" min="0" max="100" placeholder="مثلاً 20 لـ 20%">
      </div>

      <!-- Active toggle (boolean) -->
      <div class="form-check form-switch mb-3">
        <input class="form-check-input" type="checkbox" id="activeToggle{{i}}" [(ngModel)]="coupon.active" name="active-{{i}}">
        <label class="form-check-label" for="activeToggle{{i}}">
          {{ coupon.active ? ('course-header.Active' | transloco) : ('course-header.Inactive' | transloco) }}
        </label>
      </div>

      <!-- Remove Coupon Button -->
      <button *ngIf="coupons.length > 1" class="btn btn-danger" (click)="removeCoupon(i)">
        {{ 'course-header.Remove' | transloco }}
      </button>
    </div>

    <!-- Add Coupon Button -->
    <button class="btn btn-primary" (click)="addCoupon()">
      {{ 'course-header.Add Coupon' | transloco }}
    </button>
  </div>
</div>


        <!-- Navigation Buttons -->
        <button class="btn btn-secondary mt-3 m-2" *ngIf="currentStep > 0" (click)="prevStep()"> {{ 'course-header.Previous' | transloco }}
        </button>
        <button class="btn btn-primary mt-3 m-2"
        *ngIf="currentStep < stepsLive_Streamed_Educational_Courses.length - 1"
        (click)="nextStep2()"
        >
        {{ 'course-header.Next' | transloco }}
</button>
<p *ngIf="warningMessageKey" class="text-danger">
  {{ warningMessageKey | transloco }}
</p>



  <button class="btn btn-success mt-3 m-2" *ngIf="currentStep === stepsLive_Streamed_Educational_Courses.length - 1" (click)="nextStep2()" >
    {{ 'course-header.Submit for Review' | transloco }}
  </button>
  <div class="spinner-border text-primary mt-2" role="status" *ngIf="isLoading">
  <span class="visually-hidden">Loading...</span>
</div>
      </div>

    </div>
  </div>
</div>
